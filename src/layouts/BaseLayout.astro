---
import { Flex, type FlexProps } from "@radix-ui/themes";
import { BaseTheme } from "../components/BaseTheme";
import Navbar from "../components/Navbar.astro";

export const pageMaxWidth: FlexProps["maxWidth"] = {
  initial: "100%",
  sm: "min(45rem, 100%)",
  md: "min(60rem, 100%)",
};

interface Props {
  maxWidth?: FlexProps["maxWidth"];
}

const { maxWidth = pageMaxWidth } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <link rel="stylesheet" href="/styles/katex.css" />

    <style is:global>
      @import "@radix-ui/themes/components.css";
      @import "@radix-ui/themes/layout.css";
      @import "@radix-ui/themes/tokens/base.css";
      @import "@radix-ui/themes/utilities.css";

      @import "@radix-ui/themes/tokens/colors/indigo.css";
      @import "@radix-ui/themes/tokens/colors/mauve.css";
      @import "@radix-ui/themes/tokens/colors/blue.css";
      @import "@radix-ui/themes/tokens/colors/tomato.css";
      @import "@radix-ui/themes/tokens/colors/jade.css";

      @import "@wooorm/starry-night/style/dark";

      body {
        margin: 0;
      }

      html {
        scroll-behavior: smooth;
      }
    </style>

    <slot name="head" />
  </head>

  <body>
    <BaseTheme>
      <Flex direction="column" overflow="hidden" maxWidth="100vw">
        <Navbar />

        <Flex justify="center">
          <Flex mb="7" px="5" py="6" flexGrow="1" direction="column" {maxWidth}>
            <slot />
          </Flex>
        </Flex>
      </Flex>
    </BaseTheme>
  </body>
</html>
