---
import { Box, Flex, Link, Text } from "@radix-ui/themes";
import { pageMaxWidth } from "../layouts/BaseLayout.astro";
import { WriterLogo } from "./WriterLogo";
import {
  FaceIcon,
  GitHubLogoIcon,
  GlobeIcon,
  LinkedInLogoIcon,
  PersonIcon,
  RocketIcon,
} from "@radix-ui/react-icons";
---

<style>
  #navbar {
    transition-duration: 200ms;
    position: fixed;
    width: 100%;
    top: 0;
    background-color: var(--gray-a2);
    box-shadow: var(--shadow-2);
    padding: var(--space-6);
    backdrop-filter: blur(0);
  }

  #navbar[data-sticky="true"] {
    backdrop-filter: blur(4rem);
    box-shadow: var(--shadow-3);
    padding: var(--space-2);
  }

  #navbar #logo {
    transition-duration: 200ms;
    height: 1.25rem;
    width: calc(1.25rem * (326 / 72));
  }

  #navbar[data-sticky="true"] #logo {
    height: 1rem;
    width: calc(1rem * (326 / 72));
  }

  #navbar #cool {
    user-select: none;
    transition-duration: 200ms;
    opacity: calc(1 / 25);
    letter-spacing: -0.1rem;
    transform: translate(-50%, -50%) scale(13);
    position: absolute;
    top: 50%;
    left: 50%;
  }

  #navbar[data-sticky="true"] #cool {
    opacity: 0;
  }
</style>

<script>
  const navbar = document.getElementById("navbar") as HTMLDivElement;

  document.addEventListener("scroll", (event) => {
    navbar.dataset.sticky = `${window.scrollY > 0}`;
  });
</script>

<Box height="6rem" mb="6" />

<Flex id="navbar" align="center" justify="center" overflow="hidden">
  <Flex
    justify="between"
    align="center"
    gap="3"
    flexGrow="1"
    maxWidth={pageMaxWidth}
    position="relative"
  >
    <Text id="cool" weight="bold">WRITER</Text>

    <Link color="gray" href="/" highContrast>
      <WriterLogo id="logo" />
    </Link>

    <Flex gap="3" align="center">
      <Link
        color="gray"
        highContrast
        target="_blank"
        href="https://abhi-deep.com/"
      >
        <RocketIcon width="1em" height="1em" />
      </Link>
      <Link
        color="gray"
        highContrast
        target="_blank"
        href="https://github.com/tresabhi"
      >
        <GitHubLogoIcon width="1em" height="1em" />
      </Link>
      <Link
        color="gray"
        highContrast
        target="_blank"
        href="https://github.com/tresabhi"
      >
        <LinkedInLogoIcon width="1em" height="1em" />
      </Link>
    </Flex>
  </Flex>
</Flex>
